<h2>DALL-E Images</h2>

@{
    string imagePath = Url.Content("https://oaidalleapiprodscus.blob.core.windows.net/private/org-2FnMdmukLY7HKFjgYW6BOtyO/user-YURo22XwNWMJedCtFsb9PwBz/img-Q7uBKwRjfIBfWrFLzaNvsUs3.png?st=2023-05-19T07%3A42%3A43Z&se=2023-05-19T09%3A42%3A43Z&sp=r&sv=2021-08-06&sr=b&rscd=inline&rsct=image/png&skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2023-05-18T20%3A53%3A23Z&ske=2023-05-19T20%3A53%3A23Z&sks=b&skv=2021-08-06&sig=BlMDgrhwWDlUkrjw674AcT%2BQhnXVPPHslj3IQPvXY4c%3D");
}

<div class="prompt">
<img class="dalle-image" id="dalle-image" height="250" width="250"/>

    @(Html.DevExtreme().TextArea()
        .ID("PromptBox")
        .Height(45)
        .OnValueChanged("ReturnGeneratedImage")
        .Placeholder("Add a prompt")
        )
</div>
<div class="history">
    <h4> Chat History</h4>
    @(Html.DevExtreme().DataGrid<TextHistory>()
        .DataSource(d => d.Mvc()
        .Controller("ImageWebApi")
        .LoadAction("GetImageHistory")
        .Key("Id")
        )
        .RemoteOperations(true)
        .Columns(columns =>
        {
            columns.AddFor(_ => _.Prompt)
            .GroupIndex(0);

            columns.AddFor(_ => _.Content)
                .CellTemplate(@<text>
                    <div> 
                        <a href="<%- value %>"> Click here to view image </a>
                    </div>
                </text>);
        })
        .Grouping(grouping => grouping.AutoExpandAll(true))
        .GroupPanel(groupPanel => groupPanel.Visible(true))
        .WordWrapEnabled(true)
        )
</div>

<script src="~/js/Pages/Images.js"></script>